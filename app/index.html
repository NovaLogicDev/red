<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Electron modules start -->
    <script>if (typeof module === 'object') { window.module = module; module = undefined; }</script>
    <script>fluidConfig = {
            config: {
                fluidAutoLoad: false,
                defaultTheme: "system"
            }
        }</script>

    <!-- Fluid UI -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Extended" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdn.jottocraft.com/fluid/v5.min.css"
        media="screen,projection" />
    <link type="text/css" rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        media="screen,projection" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jottocraft.com/fluid/v5.min.js"></script>

    <!-- app scripts & css -->
    <link type="text/css" rel="stylesheet" href="main.css" media="screen,projection" />
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>



    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyA_egYxUggsfTGMgFLqpXEQwiZ6Kq9qmx0",
            authDomain: "jottocraft-red-player.firebaseapp.com",
            databaseURL: "https://jottocraft-red-player.firebaseio.com",
            projectId: "jottocraft-red-player",
            storageBucket: "jottocraft-red-player.appspot.com",
            messagingSenderId: "792787111903",
            appId: "1:792787111903:web:9c413b058de001c9d33e6a"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>


    <!-- Electron modules end -->
    <script>if (window.module) module = window.module;</script>

    <!-- metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Title, author, description -->
    <title>VLC Sync (beta)</title>
    <link rel="shortcut icon" href="https://player.red.jottocraft.com/favicon.png" type="image/png">
    <meta name="author" content="jottocraft">
</head>


<body class="dark midnight">
    <div id="toolbar" style="padding: 10px 10px 20px; display: none;">
        <p style="vertical-align: middle; display: inline-block; width: calc(100% - 270px); margin: 0px; height: 38px; line-height: 38px;"
            id="groupName">
            <img style="width: 32px; margin-right: 8px; vertical-align: middle;" src="icon.svg" />
            <span style="font-weight: bold;">VLC Sync (beta)</span>
        </p>
        <div style="float: right;">
            <button id="settingsBtn" onclick="settings();" style="vertical-align: middle; margin: 0px;"
                class="btn small acrylicMaterial">
                <i class="material-icons">settings</i>
                Settings
            </button>
            <button id="backBtn" onclick="closeSettings();" style="vertical-align: middle; margin: 0px; display: none;"
                class="btn small acrylicMaterial">
                <i class="material-icons">arrow_back</i>
                Back
            </button>
            <button id="leaveBtn" onclick="leaveGroup();" style="display: none;vertical-align: middle; margin: 0px;"
                class="btn small acrylicMaterial">
                <i class="material-icons">person_remove</i>
                Leave
            </button>
        </div>
        <p id="viewCounterWrapper" style="color: var(--secText); margin: 0px; display: none;"><i style="vertical-align: middle;" class="material-icons">group</i> <span id="viewerCounter" style="vertical-align: middle;">0</span> <span style="font-size: 12px;">viewers</span></p>
    </div>

    <div id="settings" style="display: none;">
        <h2>Settings</h2>
        <p>Version
            <script>document.write(require('electron').remote.app.getVersion())</script>
        </p>
        <p id="settingsLoginText"></p>
        <br />
        <h4 style="font-weight: bold;">Anime folder</h4>
        <p>Your anime folder is currently set to <span class="animeFolderPath"></span>. Click the button below to change
            the folder location.</p>
        <button onclick="moveAnimeFolder()" class="btn outline"><i class="material-icons">folder</i> Change anime folder
            location</button>
        <br /><br /><br />
        <div class="hostSettings takeControl">
            <h4 style="font-weight: bold;">Group host</h4>
            <p>You can take over control of this group by clicking the button below. By taking over control, your VLC
                state will control the group's status.</p>
            <button onclick="host()" class="btn outline"><i class="material-icons">perm_identity</i> Take
                control</button>
            <br /><br /><br />
        </div>
        <div class="hostSettings activeHost activeOwner" style="display: block;">
            <h4 style="font-weight: bold;">Group settings</h4>
            <p class="hostSettings activeOwner">Since you are the creator of this group, you will always have access to
                this group's settings regardless of if you are the current host or not.</p>
            <p class="hostSettings activeHost">Since you are the current host of this group, you can change this group's
                settings.</p>
            <br />
            <p>Group name</p>
            <input id="groupNameSetting" placeholder="Group name" />
            <button onclick="renameGroup()" class="btn outline"><i class="material-icons">save</i> Save</button>
            <br />
            <p>Video download URL</p>
            <input id="groupDownloadSetting" placeholder="Video download URL" />
            <button onclick="setGroupDownload()" class="btn outline"><i class="material-icons">save</i> Save</button>
            <br />
        </div>
        <div class="hostSettings activeOwner">
            <h4 style="font-weight: bold;">Group Access</h4>
            <p>Only you, the creator of this group, has access to these settings</p>
            <br />
            <p>Group visibility</p>
            <div>
                <div class="switch"><span class="head"></span></div>
                <div class="label"><i class="material-icons">visibility</i> Show this group in the list</div>
            </div>
            <br />
            <p>Group access</p>
            <div>
                <div class="switch"><span class="head"></span></div>
                <div class="label"><i class="material-icons">rule</i> Allow anyone to take control of this group
                </div>
            </div>
        </div>

        <br /><br /><br /><br />
        <div style="text-align: center; padding: 50px 0px;">
            <img style="height: 45px; margin-right: 20px; vertical-align: middle;"
                src="https://cdn.jottocraft.com/images/footerImage.png" />
            <h5 style="display: inline-block; vertical-align: middle;">jottocraft</h5>
            <p>(c) jottocraft 2020. All rights reserved.</p>
        </div>

    </div>

    <div id="createGroup" style="display: none;">
        <h2>Create a group</h2>
        <p>Groups are temporary and will automatically deleted when all members of the group have disconnected.</p>
        <br />
        <input id="newGroupName" placeholder="Group name" />
        <br />
        <button onclick="addGroup()" class="btn outline"><i class="material-icons">add</i> Create</button>
    </div>

    <div id="loading" style="display: block; margin-top: 100px;" class="loadingScreen">
        <div>
            <img style="margin: 0; width: 70px;" src="icon.svg" />
            <h1 style="display: block; font-size: 48px; margin-bottom: 0px;">VLC Sync</h1>
        </div>

        <div class="progress">
            <div class="indeterminate"></div>
        </div>
        <p id="loadingState">Logging in...</p>
    </div>

    <div style="margin-top: 50px;" class="container">
        <div style="text-align: center; max-width: 500px; margin: 0 auto; display: none;" id="lobby">
            <i id="lobbyIcon" class="material-icons"></i>
            <h5 style="font-weight: bold;" id="lobbyTitle"></h5>
            <p id="lobbyDescription"></p>
            <div style="display: none;" id="groupList"></div>
        </div>
    </div>

    <script src="ui.js"></script>
</body>

</html>